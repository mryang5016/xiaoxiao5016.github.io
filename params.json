{
  "name": "Xiaoxiao5016.GitHub.io",
  "tagline": "测试",
  "body": "##spring+springmvc+mybatis整合心得##\r\n\r\n\r\n\r\n **1、spring框架** (框架的核心)\r\n\r\n\t*1.导入jar（10个jar）\r\n\t\t*基础4个核心包+1个依赖包：\r\n\t\t\t* core\t\t---  核心包\r\n\t\t\t* beans     ---  管理对象\r\n\t\t\t\t*依赖包：org.apache.commons.logging.1.1.1.jar---日志包\r\n\t\t\t* context\t --- 上下文\r\n\t\t\t* expression --- 表达式\r\n\t\t\t\r\n\t\t*事务包 （2）\r\n\t\t\t*jdbc ---  连接\r\n\t\t\t*tx\t  ---  事务\r\n\t\t\t\t\r\n\r\n\t\t*切面包\t（3）\r\n\t\t\t*Aop --- 面向切面编程\r\n\t\t\t   *依赖包：\r\n\t\t\t\t  *aop联盟\r\n\t\t\t\t  *.org.aspectJ.weaver1.6.8.jar\r\n\r\n---\r\n\t*2.配置文件\r\n\t\t*applicationContext.xml/beans.xml\r\n\t\t文件位置：\r\n\t\t\t\t*1.位于源代码包【Sourece folder】\r\n\t\t\t\t*2.位于WEB-INF/下\r\n\t\t写法：\r\n\t\t\t\t*1.读取配置文件：db.properties\r\n\t\t\t\t\t*例：<context:property-placeholder location=\"classpath:applicationContext.xml\" />\r\n\t\t\t\t\r\n\t\t\t\t*配置数据源\r\n\t\t\t\t\t*数据库驱动\r\n\t\t\t\t\t*数据库连接\r\n\t\t\t\t\t*数据库用户名\r\n\t\t\t\t\t*数据库密码\r\n\t\t\t\t\t\t*最大连接数maxIdle\r\n\t\t\t\t\t\t*最小连接数minIdle\r\n\t\t\t\t\t\t*初始化连接数\"initialSize\"\r\n\t\t\t\t\t\t\t**例：<bean id=\"dataSource\" class=\"\">\r\n\t\t\t\t\t\t\t\t  <property name=\"\" ref=\"\" value=\"\"/> \r\n\t\t\t\t\t\t\t\t</bean> \r\n\t\t\t\r\n\t\t\t\t*事务管理器\r\n\t\t\t\t\t\t\t**例：<bean id=\"transactionManager\" class=\"\">\r\n\t\t\t\t\t\t\t\t\t<property name=\"datasource\" ref=\"dataSource\">\r\n\t\t\t\t\t\t\t\t</bean>\r\n\r\n\t\t\t\t*[事务]通知（增强方法）\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t**例：<tx:advice id=\"txAdvice\" transaction-Manager=\"transactionManager\"  >\r\n\t\t\t\t\t\t\t\t\t<!--传播行为-->\r\n\t\t\t\t\t\t\t\t<tx:method name=\"save\" propagation=\"REQUIRED\" />\r\n\t\t\t\t\t\t \t\t<tx:method name=\"insert\" propagation=\"REQUIRED\" />\r\n\t\t\t\t\t\t \t\t<tx:method name=\"create\" propagation=\"REQUIRED\" />\r\n\t\t\t\t\t\t \t\t<tx:method name=\"delete\" propagation=\"REQUIRED\" />\r\n\t\t\t\t\t\t \t\t<tx:method name=\"update\" propagation=\"REQUIRED\" />\r\n\t\t\t\t\t\t \t\t<tx:method name=\"find\" propagation=\"SUPPORTS\" />\r\n\t\t\t\t\r\n\t\t\t\t*切面\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t**例：<aop:config>\r\n\t\t\t\t\t\t\t\t<aop:advisor advice-ref=\"txAdvice\"/>\r\n\t \t\t\t\t\t\t\t<aop:pointcut expression=\"\" id=\"\"/>\r\n\r\n\t\t\t\t*扫描mapper包\r\n\t\t\t\t\t\t*扫描mybatis持久化的映射文件\r\n\t\t\t\t\t\t\t**例: <context:component-scan base-package=\"cn.javabs.mapper\"/>\r\n\r\n\t\t\t    *扫描services包\r\n\t\t\t\t\t\t\t**例：<context:component-scan base-package=\"cn.javabs.service\"/>\r\n\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\r\n---\r\n\t\t\r\n\r\n\t*3.配置文件\r\n\t\t* web.xml\r\n\t\t\t*1. 找到配置文件的位置<!-- 指定spring配置文件的位置 -->\r\n  \t\t\t<context-param>\r\n  \t\t\t\t<param-name>contextConfigLocation</param-name>\r\n  \t\t\t\t<param-value>classpath:applicationContext.xml</param-value>\r\n  \t\t\t</context-param>\r\n\t\t\t*2. 配置监听器  \t\t<!-- 监听器  -->\r\n  \t\t\t<listener>\t\r\n  \t\t\t\t<listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>\r\n  \t\t\t</listener>\r\n\r\n\r\n---\r\n\r\n\t43.配置文件\r\n\t\t* db.properties[根据不同的数据源去写配置]\r\n\t\t\t*1. 数据驱动\r\n  \t\t\t*2. 数据链接\r\n\t\t\t\t\t**mysql：\r\n\t\t\t\t\t\tjdbc:mysql://192.168.50.9:3306/DBName\r\n\t\t\t*3. 数据库用户名\r\n\t\t\t*4. 数据库密码\r\n\r\n\r\n---\r\n\r\n**2、mybatis框架**\r\n\r\n\t*1.导入jar包（13个jar包）\r\n\t\t*核心包：mybatis-3.4.2.jar\r\n\r\n\t\t*依赖包：\r\n\t\t\t\tant-1.9.6.jar\r\n\t\t\t\tant-launcher-1.9.6.jar\r\n\t\t\t\tasm-5.1.jar\r\n\t\t\t\tcglib-3.2.4.jar\r\n\t\t\t\tcommons-logging-1.2\r\n\t\t\t\tjavassist-3.21.0-GA\r\n\t\t\t\tlog4j-1.2.17.jar\r\n\t\t\t\tlog4j-api-2.3.jar\r\n\t\t\t\tlog4j-core-2.3.jar\r\n\t\t\t\tognl-3.1.12.jar\r\n\t\t\t\tslf4j-api-1.7.22.jar\r\n\t\t\t\tslf4j-log4j12-1.7.22.jar\r\n\r\n\t\t\r\n---\r\n\t*2.配置文件\r\n\t\t\t*mybatis-config.xml\r\n\r\n\t\t\t\t**起别名【在写动态传参数类型时，可以简写类名】\r\n\t\t\t\t\t<typeAliases>\r\n\t\t\t  \t\t\t<package name=\"cn.javabs.ssm.po\"/>\r\n\t\t\t  \t\t</typeAliases>\r\n\r\n\t\t\t\r\n---\r\n\t*3.持久化类的生成器\r\n\t\t\t* 生成持久化类 + 配置文件 + dao接口\r\n\t\t\t\r\n---\r\n 与数据库进行连接的辅助jar包\r\n---\r\n**mybatis与spring整合的中间jar包（1个）**\r\n\t\r\n\t* mybatis-spring-1.3.1.jar\r\n\r\n---\r\n**mysql数据库的驱动jar包（1个）**\r\n\t\r\n\t* mysql-connector-java-5.1.8.jar\r\n\r\n---\r\n**数据库的数据源连接池jar包-dbcp（2个）**[数据源二选一]\r\n\t\r\n\t * commons-dbcp2-2.1.1.jar\r\n\t * commons-pool2-2.4.2.jar\r\n\r\n---\r\n**数据库的数据源连接池jar包-c3p0（1个）**[数据源二选一]\r\n\t\r\n\t * c3p0-0.9.1.2.jar\r\n\r\n---\r\n\r\n**3、SpringMVC框架**\r\n\r\n\t*1.导入jar包\r\n\t\t\t* webmvc.jar\r\n\t\t\t* web.jar\r\n\t\t\t\r\n\r\n---\r\n\t*2.配置文件\r\n\t\tweb.xml\r\n\t\t\t配置前端控制器\r\n\t\t\t\t<!-- 前端控制器 :springmvc配置 -->\r\n\t\t\t\t如果不配置初始化参数  框架默认配置文件名为：ServletName-servlet.xml\r\n\t\t\t\t\t\t\t\t\t\t\t举例：以下若不配置初始化，默认名称为：spring-servlet.xml\r\n\t\t\t\t  \t<servlet>\r\n\t\t\t\t  \t\t<servlet-name>spring</servlet-name>\r\n\t\t\t\t  \t\t<servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>\r\n\t\t\t\t  \t\t<init-param>\r\n\t\t\t\t  \t\t\t<param-name>contextConfigLocation</param-name>\r\n\t\t\t\t  \t\t\t<param-value>classpath:springmvc-config.xml</param-value>\r\n\t\t\t\t  \t\t</init-param>\r\n\t\t\t\t  \t\t<!-- 自动加载前端控制器 -->\r\n\t\t\t\t  \t\t<load-on-startup>1</load-on-startup>\r\n\t\t\t\t  \t</servlet>\r\n\t\t\t\t  \t\r\n\t\t\t\t  \t<servlet-mapping>\r\n\t\t\t\t  \t\t<servlet-name>spring</servlet-name>\r\n\t\t\t\t  \t\t<url-pattern>/</url-pattern>\r\n\t\t\t\t  \t</servlet-mapping>\r\n\r\n---\r\n\r\n\r\n\t\t\t\t为了避免中文输出乱码：[建议配置编码过滤器]\r\n\t\t\t\t\t\t<!-- 编码过滤器  -->\r\n\t\t\t\t\t\t  \t<filter>\r\n\t\t\t\t\t\t  \t\t<filter-name>encoding</filter-name>\r\n\t\t\t\t\t\t  \t\t<filter-class>org.springframework.web.filter.CharacterEncodingFilter</filter-class>\r\n\t\t\t\t\t\t  \t\t<init-param>\r\n\t\t\t\t\t\t  \t\t\t<param-name>encoding</param-name>\r\n\t\t\t\t\t\t  \t\t\t<param-value>utf-8</param-value>\r\n\t\t\t\t\t\t  \t\t</init-param>\r\n\t\t\t\t\t\t  \t</filter>\r\n  \t\r\n\t\t\t\t\t\t  \t<filter-mapping>\r\n\t\t\t\t\t\t  \t\t<filter-name>encoding</filter-name>\r\n\t\t\t\t\t\t  \t\t<url-pattern>/*</url-pattern>\r\n\t\t\t\t\t\t  \t</filter-mapping>\r\n\r\n---\r\n\r\n\t\t\t\t注意：拦截的是所有  一般开发使用的是“/”代表仅不拦截.jsp的后缀\r\n\t\t\t\t\t 如果想不拦截其他的静态资源，需要在springmvc-config.xml中加入以下标签:\r\n\t\t\t\t\t\t<!-- 配置静态资源的访问映射路径  此配置中的文件  将不会被前台的 控制器进行拦截 -->\r\n\t\t\t\t\t\t\t<mvc:resources location=\"/js/\" mapping=\"/js/**\"/>\r\n\t\t\t\t\t\t\t<mvc:resources location=\"/css/\" mapping=\"/css/**\"/>\r\n\t\t\t\t\t\t\t<mvc:resources location=\"/fonts/\" mapping=\"/fonts/**\"/>\r\n\t\t\t\t\t\t\t<mvc:resources location=\"/images/\" mapping=\"/images/**\"/>\r\n\r\n---\r\n\t*2.配置文件\r\n\t\tspring-config.xml\r\n\t\t\t*1.配置扫描器[controller包]\r\n\t\t\t\t\t例：<context:component-scan base-package=\"cn.javabs.ssm.controller\"/>\r\n\t\t\t*2.加载注解驱动\r\n\t\t\t\t\t例：<mvc:annotation-driven/>\r\n\t\t\t*3. 配置静态资源的访问映射路径  此配置中的文件  将不会被前台的 控制器进行拦截 \r\n\t\t\t\t\t\t<mvc:resources location=\"/js/\" mapping=\"/js/**\"/>\r\n\t\t\t\t\t\t<mvc:resources location=\"/css/\" mapping=\"/css/**\"/>\r\n\t\t\t\t\t\t<mvc:resources location=\"/fonts/\" mapping=\"/fonts/**\"/>\r\n\t\t\t\t\t\t<mvc:resources location=\"/images/\" mapping=\"/images/**\"/>\r\n\t\t\t*4.配置视图解析器\r\n\t\t\t\t\t\t<bean  class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\">\r\n\t\t\t\t\t\t\t<!--前缀-->\r\n\t\t\t\t\t\t\t<property name=\"prefix\" value=\"/WEB-INF/jsp/\"/>\r\n\t\t\t\t\t\t\t<!--后缀-->\r\n\t\t\t\t\t\t\t<property name=\"suffix\" value=\".jsp\"/>\r\n\t\t\t\t\t\t</bean>\r\n\r\n\t\t\t\t",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}